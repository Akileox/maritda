# Maritda: ì„œë¹„ìŠ¤ ê¸°íšì„œ (Master Plan v1.0)

> **í•œ ì¤„ ìš”ì•½:** AI ì–´ì‹œìŠ¤í„´íŠ¸ë¥¼ íƒ‘ì¬í•œ ì§€ëŠ¥í˜• ìë§‰ ë²ˆì—­ ë° í¸ì§‘ ì›¹ ì„œë¹„ìŠ¤

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1. í”„ë¡œì íŠ¸ëª…
* Maritda (ë§ì‡ë‹¤)

### 1.2. ìµœì¢… ëª©í‘œ
ë‹¨ìˆœ ë²ˆì—­ì„ ë„˜ì–´, ì‚¬ìš©ìì˜ ì‘ì—… ìŠ¤íƒ€ì¼ê³¼ ì½˜í…ì¸ ì˜ íŠ¹ì„±ê¹Œì§€ ì´í•´í•˜ëŠ” ê°œì¸í™”ëœ AI ì–´ì‹œìŠ¤í„´íŠ¸ë¥¼ í†µí•´, ëˆ„êµ¬ë‚˜ ì „ë¬¸ê°€ ìˆ˜ì¤€ì˜ ìë§‰ì„ ê°€ì¥ íš¨ìœ¨ì ìœ¼ë¡œ ì œì‘í•  ìˆ˜ ìˆëŠ” ì›¹ ê¸°ë°˜ ì†”ë£¨ì…˜ì„ ì œê³µí•œë‹¤.

---

## 2. ë¬¸ì œ ì •ì˜ ë° í•„ìš”ì„±

### 2.1. íƒ€ê²Ÿ ì‚¬ìš©ì
* **ì½˜í…ì¸  ì†Œë¹„ì:** í•´ì™¸ ì½˜í…ì¸ ë¥¼ ì›ì–´ì˜ ë‰˜ì•™ìŠ¤ì— ê°€ê¹ê²Œ ì´í•´í•˜ê³  ì‹¶ì€ ì‚¬ìš©ì
* **ì½˜í…ì¸  ì œì‘ì:** ìì‹ ì˜ ì˜ìƒì— ê³ í’ˆì§ˆ ë‹¤êµ­ì–´ ìë§‰ì„ ì‹ ì†í•˜ê²Œ ì¶”ê°€í•˜ê³  ì‹¶ì€ í¬ë¦¬ì—ì´í„°
* **ì™¸êµ­ì–´ í•™ìŠµì:** ë¯¸ë””ì–´ë¥¼ í†µí•´ ìƒìƒí•œ ì–¸ì–´ ìš©ë²•ì„ í•™ìŠµí•˜ê³  ì‹¶ì€ í•™ìŠµì

### 2.2. ê¸°ì¡´ ì‹œì¥ì˜ ë¬¸ì œì 
* **ê¸°ê³„ì ì¸ ë²ˆì—­:** ë²ˆì—­ ê²°ê³¼ë¬¼ì˜ ë¬¸ë§¥ê³¼ í†¤ì´ ì–´ìƒ‰í•˜ë©°, ìºë¦­í„°ì˜ ê°œì„±ì„ ì „í˜€ ì‚´ë¦¬ì§€ ëª»í•œë‹¤.
* **ë¹„íš¨ìœ¨ì ì¸ ìˆ˜ì •:** ë²ˆì—­ ìˆ˜ì • ë° ì‹±í¬ ì¡°ì ˆì„ ìœ„í•´ ì—¬ëŸ¬ í”„ë¡œê·¸ë¨ì„ ì˜¤ê°€ë©° ë°˜ë³µì ì¸ ì‘ì—…ì„ í•´ì•¼ í•œë‹¤.
* **íšì¼ì ì¸ ê²°ê³¼ë¬¼:** ëª¨ë“  ì‚¬ìš©ìê°€ ë™ì¼í•œ ë²ˆì—­ ê²°ê³¼ë¬¼ë§Œ ì–»ê²Œ ë˜ì–´, ê°œì¸ì˜ ëª©ì ì´ë‚˜ ìŠ¤íƒ€ì¼ì— ë§ëŠ” ê²°ê³¼ë¬¼ì„ ì–»ê¸° ì–´ë µë‹¤.

### 2.3. 'Maritda'ì˜ ì°¨ë³„ì 
* **AI ê¸°ë°˜ ê°œì¸í™”:** ì‚¬ìš©ìì˜ ê·œì¹™ê³¼ ì˜ìƒì˜ íŠ¹ì„±ì„ í•™ìŠµí•˜ì—¬ 'í†¤ ì•¤ ë§¤ë„ˆ', 'ê°€ë…ì„±'ê¹Œì§€ ì œì•ˆí•˜ëŠ” AI ì–´ì‹œìŠ¤í„´íŠ¸.
* **í†µí•© ì‘ì—… í™˜ê²½:** ë²ˆì—­, ì˜ìƒ í™•ì¸, í¸ì§‘, êµì • ë“± ëª¨ë“  ê³¼ì •ì´ í•œ í™”ë©´ì—ì„œ ì´ë£¨ì–´ì§€ëŠ” ì›ìŠ¤í†± ì†”ë£¨ì…˜.
* **ì›¹ ê¸°ë°˜ì˜ ë›°ì–´ë‚œ ì ‘ê·¼ì„±:** ë³„ë„ì˜ í”„ë¡œê·¸ë¨ ì„¤ì¹˜ ì—†ì´, ì–¸ì œ ì–´ë””ì„œë“  ì›¹ ë¸Œë¼ìš°ì €ë¡œ ì ‘ì†í•˜ì—¬ ì‘ì—…ì„ ì´ì–´ê°ˆ ìˆ˜ ìˆë‹¤.

---

## 3. ì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ ë° ê¸°ìˆ  ìŠ¤íƒ

### 3.1. ì‹œìŠ¤í…œ êµ¬ì„±ë„
* `ì‚¬ìš©ì (Web Browser)` â†” `í”„ë¡ íŠ¸ì—”ë“œ (React)` â†” `API` â†” `ë°±ì—”ë“œ (Python/FastAPI)` â†” `ì™¸ë¶€ ë²ˆì—­/LLM ì„œë¹„ìŠ¤`

### 3.2. ì£¼ìš” ê¸°ìˆ  ìŠ¤íƒ
* **ë°±ì—”ë“œ:** `Python` (`FastAPI` í”„ë ˆì„ì›Œí¬)
* **í”„ë¡ íŠ¸ì—”ë“œ:** `React` (ë°˜ì‘í˜• ì›¹ ë””ìì¸)
* **ë°°í¬:** `Docker`ë¥¼ í™œìš©í•œ í´ë¼ìš°ë“œ í™˜ê²½ (AWS, GCP ë“±)

---

## 4. í•µì‹¬ ê¸°ëŠ¥ ëª…ì„¸

### 4.1. ê¸°ë³¸ ë²ˆì—­ ê¸°ëŠ¥
* `.srt`, `.ass` ë“± ì£¼ìš” ìë§‰ íŒŒì¼ í¬ë§· ì§€ì›.
* ì‚¬ìš©ìê°€ ì—…ë¡œë“œí•œ íŒŒì¼ì„ ì¦‰ì‹œ ë²ˆì—­í•˜ì—¬ ê²°ê³¼ ì œê³µ.

### 4.2. ì¸ë¸Œë¼ìš°ì € ìë§‰ í¸ì§‘ê¸°
* ì›¹ í™”ë©´ì—ì„œ ë²ˆì—­ëœ ìë§‰ í…ìŠ¤íŠ¸ë¥¼ ì§ì ‘ ìˆ˜ì •í•˜ê³ , íƒ€ì„ë¼ì¸ì„ ë¯¸ì„¸ ì¡°ì •í•˜ëŠ” ê¸°ëŠ¥.

### 4.3. ì˜ìƒ-ìë§‰ ë™ê¸°í™” ë·°ì–´
* ì˜ìƒ(íŒŒì¼ ë˜ëŠ” URL)ì„ í•¨ê»˜ ë¡œë“œí•˜ì—¬, ì‹¤ì œ ì¥ë©´ì— ë§ì¶° ìë§‰ì„ í™•ì¸í•˜ê³  ìˆ˜ì •í•˜ëŠ” ê¸°ëŠ¥. ë¬¸ë§¥ íŒŒì•…ì˜ ì •í™•ë„ë¥¼ ê·¹ëŒ€í™”.

### 4.4. í†¤ ì•¤ ë§¤ë„ˆ ì¡°ì ˆ (AI)
* **ìºë¦­í„° RP ë¶€ì—¬:** "10ëŒ€ ì†Œë…€ì˜ ì¥ë‚œìŠ¤ëŸ¬ìš´ ë§íˆ¬" ë“± íŠ¹ì • ìºë¦­í„°ì˜ í˜ë¥´ì†Œë‚˜ë¥¼ ì„¤ì •í•˜ì—¬ ë²ˆì—­ í†¤ì„ ë³€ê²½.
* **ìºë¦­í„°ë³„ ê·œì¹™ ì„¤ì •:** "A ìºë¦­í„°ëŠ” ê²©ì‹ì²´, B ìºë¦­í„°ëŠ” ë°˜ë§ ì‚¬ìš©" ë“± í”„ë¡œì íŠ¸ ì „ë°˜ì— ì ìš©ë  í†¤ ê·œì¹™ì„ ì§€ì •.

### 4.5. ê°€ë…ì„± AI ì–´ì‹œìŠ¤í„´íŠ¸
* **AI ìë™ í”¼ë“œë°±:** í•œ ì¤„ë‹¹ ê¸€ì ìˆ˜, ì´ˆë‹¹ ê¸€ì ìˆ˜(CPS), ìë§‰ ë…¸ì¶œ ì‹œê°„ ë“± ê°€ë…ì„± ê·œì¹™ì„ AIê°€ ìë™ìœ¼ë¡œ ê²€ì‚¬í•˜ê³  ê°œì„ ì•ˆ ì œì•ˆ.
* **ì‚¬ìš©ì ì§€ì • ê·œì¹™ (User Rules):** ì‚¬ìš©ìê°€ ìì‹ ë§Œì˜ ê°€ë…ì„± ê·œì¹™(ì˜ˆ: "í•œ ì¤„ì€ 30ì ì´í•˜")ì„ ì„¤ì •í•˜ë©´, AIê°€ í•´ë‹¹ ê·œì¹™ì„ ìµœìš°ì„ ìœ¼ë¡œ ê²€ì‚¬.

---

## 5. ê°œë°œ ë¡œë“œë§µ

### 5.1. Phase 1: MVP - í•µì‹¬ ë²ˆì—­ ì—”ì§„ êµ¬ì¶•
* **ëª©í‘œ:** 'ì—…ë¡œë“œ-ë²ˆì—­-ë‹¤ìš´ë¡œë“œ'ì˜ í•µì‹¬ ê¸°ëŠ¥ ì‚¬ì´í´ ì™„ì„±.
* **êµ¬í˜„ ê¸°ëŠ¥:** `4.1. ê¸°ë³¸ ë²ˆì—­ ê¸°ëŠ¥`

### 5.2. Phase 2: ê³ ê¸‰ í¸ì§‘ í™˜ê²½ êµ¬ì¶•
* **ëª©í‘œ:** ì „ë¬¸ì ì¸ ìˆ˜ì • ë° í¸ì§‘ì´ ê°€ëŠ¥í•œ ì›ìŠ¤í†± í™˜ê²½ ì œê³µ.
* **êµ¬í˜„ ê¸°ëŠ¥:** `4.2. ì¸ë¸Œë¼ìš°ì € ìë§‰ í¸ì§‘ê¸°`, `4.3. ì˜ìƒ-ìë§‰ ë™ê¸°í™” ë·°ì–´`

### 5.3. Phase 3: AI ì–´ì‹œìŠ¤í„´íŠ¸ ë„ì…
* **ëª©í‘œ:** ì‚¬ìš©ìì˜ ì‘ì—… ìŠ¤íƒ€ì¼ì„ í•™ìŠµí•˜ê³  ë§ì¶°ì£¼ëŠ” ì§€ëŠ¥í˜• ê°œì¸í™” ê¸°ëŠ¥ êµ¬í˜„.
* **êµ¬í˜„ ê¸°ëŠ¥:** `4.4. í†¤ ì•¤ ë§¤ë„ˆ ì¡°ì ˆ`, `4.5. ê°€ë…ì„± AI ì–´ì‹œìŠ¤í„´íŠ¸`

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

\`\`\`
maritda/
â”œâ”€â”€ frontend/      # React í”„ë¡ íŠ¸ì—”ë“œ ì†ŒìŠ¤ì½”ë“œ
â”œâ”€â”€ backend/       # FastAPI ë°±ì—”ë“œ ì†ŒìŠ¤ì½”ë“œ
â”œâ”€â”€ Dockerfile     # ë°°í¬ìš© Dockerfile
â””â”€â”€ README.md
\`\`\`

---

# ì‹¤ì „ ê°œë°œ/ìš´ì˜/ë°°í¬/ì½”ë“œ ì˜ˆì‹œ (PR/í˜‘ì—…/ë¦¬ë·°ìš©)

## ì£¼ìš” ê¸°ìˆ  ìŠ¤íƒ

- **í”„ë¡ íŠ¸ì—”ë“œ:** React (Vite, TypeScript, TailwindCSS)
- **ë°±ì—”ë“œ:** FastAPI (Python)
- **ì¸ì¦:** Firebase Authentication (Google, Github ë“± ì†Œì…œ ë¡œê·¸ì¸)
- **DB:** Firestore (ì‚¬ìš©ì ì •ë³´)
- **ë°°í¬:** Vercel(í”„ë¡ íŠ¸), Render(ë°±ì—”ë“œ)
- **CI/CD:** í™˜ê²½ë³€ìˆ˜ ìë™í™”, gitignore, ë³´ì•ˆ, ì‹¤ì „ ë°°í¬

## í™˜ê²½ë³€ìˆ˜ ì˜ˆì‹œ (.env.example)

```env
# í”„ë¡ íŠ¸ì—”ë“œ (frontend/.env.example)
VITE_API_BASE_URL=your_api_base_url
```
- ì‹¤ì œ ë°°í¬ ì‹œ Vercel í™˜ê²½ë³€ìˆ˜ì— `VITE_API_BASE_URL=https://maritda-backend.onrender.com` ì¶”ê°€ í•„ìš”

## í”„ë¡ íŠ¸ì—”ë“œ ì˜ˆì œ: ìë§‰ ë²ˆì—­ íŒŒì´í”„ë¼ì¸

```tsx
// EditorPage.tsx (ì¼ë¶€)
const handleTranslate = async () => {
  if (!file) return;
  setLoading(true);
  setError('');
  setResult('');
  try {
    const formData = new FormData();
    formData.append('file', file);
    formData.append('source_lang', LANGUAGE_CODES[sourceLang]);
    formData.append('dest_lang', LANGUAGE_CODES[targetLang]);
    let headers: Record<string, string> = {};
    if (user) {
      const token = await user.getIdToken();
      headers["Authorization"] = `Bearer ${token}`;
    }
    const res = await fetch(`${import.meta.env.VITE_API_BASE_URL}/api/v1/translate`, {
      method: 'POST',
      body: formData,
      headers,
    });
    if (!res.ok) throw new Error('API Error');
    const data = await res.json();
    setResult(data.translated_content);
  } catch (e) {
    setError('ë²ˆì—­ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
  } finally {
    setLoading(false);
  }
};
```

## ë°±ì—”ë“œ ì˜ˆì œ: FastAPI ë²ˆì—­ ì—”ë“œí¬ì¸íŠ¸

```python
# backend/app/main.py (ì¼ë¶€)
from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware
from app.api import translate

app = FastAPI()
app.add_middleware(
    CORSMiddleware,
    allow_origins=[...],  # Vercel/ë¡œì»¬ ëª¨ë‘ í—ˆìš©
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)
app.include_router(translate.router, prefix="/api/v1")
```

```python
# backend/app/api/translate.py (ì¼ë¶€)
@router.post("/translate")
async def create_translation(
    file: UploadFile = File(...),
    source_lang: str = Form(...),
    dest_lang: str = Form(...),
    user=Depends(verify_firebase_token)
):
    # íŒŒì¼ í™•ì¥ì/ìš©ëŸ‰/MIME ê²€ì¦
    # ë²ˆì—­ ì„œë¹„ìŠ¤ í˜¸ì¶œ
    translated_text = translator_service.translate_subtitle(
        file=file,
        source_lang=source_lang,
        dest_lang=dest_lang
    )
    return {"translated_content": translated_text}
```

## ì¸ì¦/ë³´ì•ˆ

- **Firebase Auth**ë¡œ ì†Œì…œ ë¡œê·¸ì¸(êµ¬ê¸€, ê¹ƒí—ˆë¸Œ ë“±) ë° JWT í† í° ê²€ì¦
- FastAPIì—ì„œ í† í° ë¯¸ë“¤ì›¨ì–´ë¡œ ë³´í˜¸
- Firestoreì— ì‚¬ìš©ì ì •ë³´/ê¶Œí•œ ì €ì¥

## ë°°í¬/ìš´ì˜

- **Vercel**: í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬, í™˜ê²½ë³€ìˆ˜ë¡œ ë°±ì—”ë“œ ì£¼ì†Œ ê´€ë¦¬
- **Render**: ë°±ì—”ë“œ ë°°í¬, CORS/ë³´ì•ˆ ì„¤ì •
- **.env, .env.production** ë“±ì€ gitignoreë¡œ ë³´í˜¸, ë¯¼ê°ì •ë³´ push protection ì ìš©

## ì‹¤í–‰ ë°©ë²•

1. **ë°±ì—”ë“œ ì‹¤í–‰**
   ```sh
   cd backend
   uvicorn app.main:app --reload
   ```

2. **í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰**
   ```sh
   cd frontend
   npm install
   npm run dev
   ```

3. **í™˜ê²½ë³€ìˆ˜ ì„¸íŒ…**
   - `.env` íŒŒì¼ì— `VITE_API_BASE_URL` ì§€ì •
   - Vercel í™˜ê²½ë³€ìˆ˜ì—ë„ ë™ì¼í•˜ê²Œ ì¶”ê°€

## ê¸°íƒ€

- robust ì˜ˆì™¸ì²˜ë¦¬, ë¡œê¹…, í…ŒìŠ¤íŠ¸ ì½”ë“œ, UI/UX ê°œì„ , ë‹¤í¬ëª¨ë“œ, ì–´ë“œë¯¼, git ë³´ì•ˆ ë“± ì‹¤ì „ ìš´ì˜ ë…¸í•˜ìš° ë°˜ì˜
- ìì„¸í•œ ë‚´ìš©ì€ ì½”ë“œ/ì»¤ë°‹/PRì„ ì°¸ê³ 

---

**ì´ READMEëŠ” PR/í˜‘ì—…/ë¦¬ë·°ìš©ìœ¼ë¡œ, ì‹¤ì œ ì½”ë“œì™€ ì—°ë™ë˜ëŠ” ì£¼ìš” êµ¬ì¡°ì™€ ì˜ˆì œë§Œì„ ê°„ê²°í•˜ê²Œ ì •ë¦¬í•œ ë²„ì „ì…ë‹ˆë‹¤.**

---

## âš ï¸ ë°°í¬/ìš´ì˜ ì£¼ì˜ì‚¬í•­ (í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸)

- **requirements.txt(íŒŒì´ì¬ íŒ¨í‚¤ì§€) ë³€ê²½ ì‹œ**: ë°˜ë“œì‹œ ì»¤ë°‹/í‘¸ì‹œí•´ì•¼ Render ë“± ë°°í¬ í™˜ê²½ì— ë°˜ì˜ë©ë‹ˆë‹¤.
- **Firebase/Firebase Auth/Firestore/Google API ë“± ì™¸ë¶€ ì„œë¹„ìŠ¤ ì—°ë™ ì‹œ**: ê´€ë ¨ íŒ¨í‚¤ì§€(`firebase-admin`, `google-cloud-firestore`, `google-auth`, `google-api-python-client` ë“±)ê°€ requirements.txtì— ëˆ„ë½ë˜ì§€ ì•Šì•˜ëŠ”ì§€ í•­ìƒ í™•ì¸í•˜ì„¸ìš”.
- **íŒ¨í‚¤ì§€ ì¶”ê°€/ì—…ë°ì´íŠ¸ í›„**: Render(ë˜ëŠ” ê¸°íƒ€ ë°°í¬ í™˜ê²½)ì—ì„œ ë¹Œë“œ/ë°°í¬ê°€ ì •ìƒì ìœ¼ë¡œ ì™„ë£Œë˜ëŠ”ì§€ ê¼­ í™•ì¸í•˜ì„¸ìš”.
- **í™˜ê²½ë³€ìˆ˜, ì„œë¹„ìŠ¤ ê³„ì • í‚¤ ë“± ë¯¼ê°ì •ë³´**: .gitignoreì— ë°˜ë“œì‹œ í¬í•¨, ì»¤ë°‹/í‘¸ì‹œ ê¸ˆì§€!
- **CORS, ë„ë©”ì¸, API ê²½ë¡œ ë“±**: í”„ë¡ íŠ¸/ë°±ì—”ë“œ ë°°í¬ ì£¼ì†Œê°€ ë°”ë€Œë©´ CORS í—ˆìš© origins, í™˜ê²½ë³€ìˆ˜ ë“±ë„ í•¨ê»˜ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤.
- **Firebase ì„œë¹„ìŠ¤ ê³„ì • í‚¤ íŒŒì¼(firebase-adminsdk.json)**: ë°°í¬ í™˜ê²½(Render ë“±)ì—ì„œëŠ” ë°˜ë“œì‹œ Secret Fileë¡œ ë“±ë¡í•˜ê³ , ì½”ë“œì—ì„œ í™˜ê²½ë³€ìˆ˜(`GOOGLE_APPLICATION_CREDENTIALS`) ë˜ëŠ” ê¸°ë³¸ ê²½ë¡œ(`/etc/secrets/firebase-adminsdk.json`)ë¡œ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤. (gitì—ëŠ” ì ˆëŒ€ í¬í•¨í•˜ì§€ ë§ ê²ƒ)

---
